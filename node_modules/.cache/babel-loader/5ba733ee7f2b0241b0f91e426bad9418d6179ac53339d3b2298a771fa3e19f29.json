{"ast":null,"code":"const CACHE_PREFIX='yt-adskip-cache-';const CACHE_TTL=24*60*60*1000;// 24 hours in milliseconds\nexport const cacheService={get:videoId=>{try{const cacheKey=CACHE_PREFIX+videoId;const cachedData=localStorage.getItem(cacheKey);if(!cachedData)return null;const entry=JSON.parse(cachedData);const now=Date.now();// Check if cache is expired\nif(now-entry.timestamp>CACHE_TTL){localStorage.removeItem(cacheKey);return null;}return entry.data;}catch(error){console.error('Cache read error:',error);return null;}},set:(videoId,data)=>{try{const cacheKey=CACHE_PREFIX+videoId;const entry={data,timestamp:Date.now()};localStorage.setItem(cacheKey,JSON.stringify(entry));}catch(error){console.error('Cache write error:',error);}},clear:videoId=>{try{const cacheKey=CACHE_PREFIX+videoId;localStorage.removeItem(cacheKey);}catch(error){console.error('Cache clear error:',error);}}};","map":{"version":3,"names":["CACHE_PREFIX","CACHE_TTL","cacheService","get","videoId","cacheKey","cachedData","localStorage","getItem","entry","JSON","parse","now","Date","timestamp","removeItem","data","error","console","set","setItem","stringify","clear"],"sources":["C:/Users/ADAM/YT-adskip/YT-adskip-extension/src/utils/cache.ts"],"sourcesContent":["import { VideoData } from './useVideoData';\r\n\r\nconst CACHE_PREFIX = 'yt-adskip-cache-';\r\nconst CACHE_TTL = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\r\n\r\ninterface CacheEntry {\r\n  data: VideoData;\r\n  timestamp: number;\r\n}\r\n\r\nexport const cacheService = {\r\n  get: (videoId: string): VideoData | null => {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + videoId;\r\n      const cachedData = localStorage.getItem(cacheKey);\r\n      \r\n      if (!cachedData) return null;\r\n      \r\n      const entry: CacheEntry = JSON.parse(cachedData);\r\n      const now = Date.now();\r\n      \r\n      // Check if cache is expired\r\n      if (now - entry.timestamp > CACHE_TTL) {\r\n        localStorage.removeItem(cacheKey);\r\n        return null;\r\n      }\r\n      \r\n      return entry.data;\r\n    } catch (error) {\r\n      console.error('Cache read error:', error);\r\n      return null;\r\n    }\r\n  },\r\n  \r\n  set: (videoId: string, data: VideoData): void => {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + videoId;\r\n      const entry: CacheEntry = {\r\n        data,\r\n        timestamp: Date.now(),\r\n      };\r\n      \r\n      localStorage.setItem(cacheKey, JSON.stringify(entry));\r\n    } catch (error) {\r\n      console.error('Cache write error:', error);\r\n    }\r\n  },\r\n  \r\n  clear: (videoId: string): void => {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + videoId;\r\n      localStorage.removeItem(cacheKey);\r\n    } catch (error) {\r\n      console.error('Cache clear error:', error);\r\n    }\r\n  },\r\n}; "],"mappings":"AAEA,KAAM,CAAAA,YAAY,CAAG,kBAAkB,CACvC,KAAM,CAAAC,SAAS,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAE;AAOvC,MAAO,MAAM,CAAAC,YAAY,CAAG,CAC1BC,GAAG,CAAGC,OAAe,EAAuB,CAC1C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGL,YAAY,CAAGI,OAAO,CACvC,KAAM,CAAAE,UAAU,CAAGC,YAAY,CAACC,OAAO,CAACH,QAAQ,CAAC,CAEjD,GAAI,CAACC,UAAU,CAAE,MAAO,KAAI,CAE5B,KAAM,CAAAG,KAAiB,CAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,CAChD,KAAM,CAAAM,GAAG,CAAGC,IAAI,CAACD,GAAG,CAAC,CAAC,CAEtB;AACA,GAAIA,GAAG,CAAGH,KAAK,CAACK,SAAS,CAAGb,SAAS,CAAE,CACrCM,YAAY,CAACQ,UAAU,CAACV,QAAQ,CAAC,CACjC,MAAO,KAAI,CACb,CAEA,MAAO,CAAAI,KAAK,CAACO,IAAI,CACnB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC,MAAO,KAAI,CACb,CACF,CAAC,CAEDE,GAAG,CAAEA,CAACf,OAAe,CAAEY,IAAe,GAAW,CAC/C,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAGL,YAAY,CAAGI,OAAO,CACvC,KAAM,CAAAK,KAAiB,CAAG,CACxBO,IAAI,CACJF,SAAS,CAAED,IAAI,CAACD,GAAG,CAAC,CACtB,CAAC,CAEDL,YAAY,CAACa,OAAO,CAACf,QAAQ,CAAEK,IAAI,CAACW,SAAS,CAACZ,KAAK,CAAC,CAAC,CACvD,CAAE,MAAOQ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CACF,CAAC,CAEDK,KAAK,CAAGlB,OAAe,EAAW,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGL,YAAY,CAAGI,OAAO,CACvCG,YAAY,CAACQ,UAAU,CAACV,QAAQ,CAAC,CACnC,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CACF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}