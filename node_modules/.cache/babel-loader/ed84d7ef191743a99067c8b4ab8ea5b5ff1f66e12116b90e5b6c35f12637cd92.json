{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ThemeProvider,createTheme}from'@mui/material/styles';import CssBaseline from'@mui/material/CssBaseline';import Box from'@mui/material/Box';import CircularProgress from'@mui/material/CircularProgress';import Alert from'@mui/material/Alert';import{SearchResults}from'./components/SearchResults';import{SearchBar}from'./components/SearchBar';import{AdMarker}from'./components/AdMarker';import{useVideoData}from'./utils/useVideoData';import{useThemeDetector}from'./utils/useThemeDetector';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[videoId,setVideoId]=useState('');const[searchQuery,setSearchQuery]=useState('');const isYouTubeDark=useThemeDetector();const theme=createTheme({palette:{mode:isYouTubeDark?'dark':'light',primary:{main:'#ff0000'// YouTube red\n},background:{default:isYouTubeDark?'#0f0f0f':'#ffffff',paper:isYouTubeDark?'#272727':'#ffffff'}}});const{data,loading,error,fetchData}=useVideoData();useEffect(()=>{// Get current tab's URL to extract video ID\nchrome.tabs.query({active:true,currentWindow:true},tabs=>{var _tabs$;const url=((_tabs$=tabs[0])===null||_tabs$===void 0?void 0:_tabs$.url)||'';const urlParams=new URLSearchParams(new URL(url).search);const id=urlParams.get('v');if(id){setVideoId(id);fetchData(id);}});},[]);const handleSearch=query=>{setSearchQuery(query);};const handleTimestampClick=timestamp=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{var _tabs$2;const tabId=(_tabs$2=tabs[0])===null||_tabs$2===void 0?void 0:_tabs$2.id;if(tabId){chrome.scripting.executeScript({target:{tabId},func:time=>{const video=document.querySelector('video');if(video){video.currentTime=time;video.play();}},args:[timestamp]});}});};return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{width:400,minHeight:500,p:2,display:'flex',flexDirection:'column',gap:2},children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch,disabled:loading||!videoId}),loading&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),data&&/*#__PURE__*/_jsxs(_Fragment,{children:[data.adSegments&&data.adSegments.length>0&&/*#__PURE__*/_jsx(AdMarker,{adSegments:data.adSegments,onTimestampClick:handleTimestampClick}),/*#__PURE__*/_jsx(SearchResults,{transcript:data.transcript,searchQuery:searchQuery,onTimestampClick:handleTimestampClick})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","ThemeProvider","createTheme","CssBaseline","Box","CircularProgress","Alert","SearchResults","SearchBar","AdMarker","useVideoData","useThemeDetector","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","videoId","setVideoId","searchQuery","setSearchQuery","isYouTubeDark","theme","palette","mode","primary","main","background","default","paper","data","loading","error","fetchData","chrome","tabs","query","active","currentWindow","_tabs$","url","urlParams","URLSearchParams","URL","search","id","get","handleSearch","handleTimestampClick","timestamp","_tabs$2","tabId","scripting","executeScript","target","func","time","video","document","querySelector","currentTime","play","args","children","sx","width","minHeight","p","display","flexDirection","gap","onSearch","disabled","justifyContent","severity","adSegments","length","onTimestampClick","transcript"],"sources":["C:/Users/ADAM/YT-adskip/YT-adskip-extension/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Box from '@mui/material/Box';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Alert from '@mui/material/Alert';\r\nimport { SearchResults } from './components/SearchResults';\r\nimport { SearchBar } from './components/SearchBar';\r\nimport { AdMarker } from './components/AdMarker';\r\nimport { useVideoData } from './utils/useVideoData';\r\nimport { useThemeDetector } from './utils/useThemeDetector';\r\n\r\nconst App: React.FC = () => {\r\n  const [videoId, setVideoId] = useState<string>('');\r\n  const [searchQuery, setSearchQuery] = useState<string>('');\r\n  const isYouTubeDark = useThemeDetector();\r\n  \r\n  const theme = createTheme({\r\n    palette: {\r\n      mode: isYouTubeDark ? 'dark' : 'light',\r\n      primary: {\r\n        main: '#ff0000', // YouTube red\r\n      },\r\n      background: {\r\n        default: isYouTubeDark ? '#0f0f0f' : '#ffffff',\r\n        paper: isYouTubeDark ? '#272727' : '#ffffff',\r\n      },\r\n    },\r\n  });\r\n\r\n  const {\r\n    data,\r\n    loading,\r\n    error,\r\n    fetchData\r\n  } = useVideoData();\r\n\r\n  useEffect(() => {\r\n    // Get current tab's URL to extract video ID\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n      const url = tabs[0]?.url || '';\r\n      const urlParams = new URLSearchParams(new URL(url).search);\r\n      const id = urlParams.get('v');\r\n      if (id) {\r\n        setVideoId(id);\r\n        fetchData(id);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleSearch = (query: string) => {\r\n    setSearchQuery(query);\r\n  };\r\n\r\n  const handleTimestampClick = (timestamp: number) => {\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n      const tabId = tabs[0]?.id;\r\n      if (tabId) {\r\n        chrome.scripting.executeScript({\r\n          target: { tabId },\r\n          func: (time) => {\r\n            const video = document.querySelector('video');\r\n            if (video) {\r\n              video.currentTime = time;\r\n              video.play();\r\n            }\r\n          },\r\n          args: [timestamp]\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Box sx={{ \r\n        width: 400, \r\n        minHeight: 500,\r\n        p: 2,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: 2\r\n      }}>\r\n        <SearchBar \r\n          onSearch={handleSearch}\r\n          disabled={loading || !videoId}\r\n        />\r\n        \r\n        {loading && (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        )}\r\n\r\n        {error && (\r\n          <Alert severity=\"error\">\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {data && (\r\n          <>\r\n            {data.adSegments && data.adSegments.length > 0 && (\r\n              <AdMarker \r\n                adSegments={data.adSegments}\r\n                onTimestampClick={handleTimestampClick}\r\n              />\r\n            )}\r\n            \r\n            <SearchResults \r\n              transcript={data.transcript}\r\n              searchQuery={searchQuery}\r\n              onTimestampClick={handleTimestampClick}\r\n            />\r\n          </>\r\n        )}\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}