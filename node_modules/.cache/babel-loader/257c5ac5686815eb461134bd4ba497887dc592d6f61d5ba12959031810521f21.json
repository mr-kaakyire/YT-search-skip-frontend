{"ast":null,"code":"import React,{useState}from'react';import Paper from'@mui/material/Paper';import Typography from'@mui/material/Typography';import Button from'@mui/material/Button';import Box from'@mui/material/Box';import SkipNextIcon from'@mui/icons-material/SkipNext';import KeyboardArrowDownIcon from'@mui/icons-material/KeyboardArrowDown';import KeyboardArrowUpIcon from'@mui/icons-material/KeyboardArrowUp';import Collapse from'@mui/material/Collapse';import Divider from'@mui/material/Divider';import Tooltip from'@mui/material/Tooltip';import Badge from'@mui/material/Badge';import{formatTime}from'../utils/formatTime';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const AdMarker=_ref=>{let{adSegments,onTimestampClick,isExpanded,onExpandToggle}=_ref;const[localExpanded,setLocalExpanded]=useState(true);// Use either the provided isExpanded or fall back to local state\nconst expanded=isExpanded!==undefined?isExpanded:localExpanded;const toggleExpanded=()=>{if(onExpandToggle){// If external control is provided, use that\nonExpandToggle();}else{// Otherwise use local state\nsetLocalExpanded(!localExpanded);}};// Calculate total ad time\nconst totalAdTime=adSegments.reduce((total,segment)=>{return total+(segment.end-segment.start);},0);return/*#__PURE__*/_jsxs(Paper,{elevation:0,sx:{p:0,border:'1px solid',borderColor:'divider',borderRadius:2,bgcolor:'background.paper',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',cursor:'pointer',p:2,transition:'background-color 0.2s','&:hover':{bgcolor:'action.hover'}},onClick:toggleExpanded,children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:\"0.8rem\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"error\",sx:{mr:1},children:\"Ad Segments\"}),/*#__PURE__*/_jsx(Badge,{badgeContent:adSegments.length,color:\"error\",sx:{'& .MuiBadge-badge':{fontSize:'0.7rem'}}})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Tooltip,{title:expanded?\"Collapse\":\"Expand\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",sx:{mr:1},children:[formatTime(totalAdTime),\" total\"]})}),expanded?/*#__PURE__*/_jsx(KeyboardArrowUpIcon,{fontSize:\"small\",color:\"action\"}):/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{fontSize:\"small\",color:\"action\"})]})]}),expanded&&/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Collapse,{in:expanded,timeout:\"auto\",children:/*#__PURE__*/_jsx(Box,{sx:{p:2,pt:1},children:adSegments.map((segment,index)=>/*#__PURE__*/_jsxs(Box,{sx:{mb:index!==adSegments.length-1?2:0,pt:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",gutterBottom:true,children:segment.text}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,alignItems:'center'},children:[/*#__PURE__*/_jsxs(Button,{size:\"small\",variant:\"outlined\",onClick:()=>onTimestampClick(segment.start),startIcon:/*#__PURE__*/_jsx(SkipNextIcon,{}),children:[\"Skip to \",formatTime(segment.start)]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"Duration: \",formatTime(segment.end-segment.start)]})]})]},index))})})]});};","map":{"version":3,"names":["React","useState","Paper","Typography","Button","Box","SkipNextIcon","KeyboardArrowDownIcon","KeyboardArrowUpIcon","Collapse","Divider","Tooltip","Badge","formatTime","jsx","_jsx","jsxs","_jsxs","AdMarker","_ref","adSegments","onTimestampClick","isExpanded","onExpandToggle","localExpanded","setLocalExpanded","expanded","undefined","toggleExpanded","totalAdTime","reduce","total","segment","end","start","elevation","sx","p","border","borderColor","borderRadius","bgcolor","overflow","children","display","justifyContent","alignItems","cursor","transition","onClick","gap","variant","color","mr","badgeContent","length","fontSize","title","in","timeout","pt","map","index","mb","gutterBottom","text","size","startIcon"],"sources":["C:/Users/ADAM/YT-adskip/YT-adskip-extension/src/components/AdMarker.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport Box from '@mui/material/Box';\r\nimport SkipNextIcon from '@mui/icons-material/SkipNext';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport Divider from '@mui/material/Divider';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Badge from '@mui/material/Badge';\r\nimport { formatTime } from '../utils/formatTime';\r\n\r\ninterface AdSegment {\r\n  start: number;\r\n  end: number;\r\n  text: string;\r\n}\r\n\r\ninterface AdMarkerProps {\r\n  adSegments: AdSegment[];\r\n  onTimestampClick: (timestamp: number) => void;\r\n  isExpanded?: boolean;\r\n  onExpandToggle?: () => void;\r\n}\r\n\r\nexport const AdMarker: React.FC<AdMarkerProps> = ({ \r\n  adSegments, \r\n  onTimestampClick,\r\n  isExpanded,\r\n  onExpandToggle\r\n}) => {\r\n  const [localExpanded, setLocalExpanded] = useState(true);\r\n  \r\n  // Use either the provided isExpanded or fall back to local state\r\n  const expanded = isExpanded !== undefined ? isExpanded : localExpanded;\r\n  \r\n  const toggleExpanded = () => {\r\n    if (onExpandToggle) {\r\n      // If external control is provided, use that\r\n      onExpandToggle();\r\n    } else {\r\n      // Otherwise use local state\r\n      setLocalExpanded(!localExpanded);\r\n    }\r\n  };\r\n\r\n  // Calculate total ad time\r\n  const totalAdTime = adSegments.reduce((total, segment) => {\r\n    return total + (segment.end - segment.start);\r\n  }, 0);\r\n\r\n  return (\r\n    <Paper \r\n      elevation={0}\r\n      sx={{ \r\n        p: 0,\r\n        border: '1px solid',\r\n        borderColor: 'divider',\r\n        borderRadius: 2,\r\n        bgcolor: 'background.paper',\r\n        overflow: 'hidden'\r\n      }}\r\n    >\r\n      <Box \r\n        sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          cursor: 'pointer',\r\n          p: 2,\r\n          transition: 'background-color 0.2s',\r\n          '&:hover': {\r\n            bgcolor: 'action.hover',\r\n          }\r\n        }}\r\n        onClick={toggleExpanded}\r\n      >\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: \"0.8rem\" }}>\r\n          <Typography variant=\"subtitle2\" color=\"error\" sx={{ mr: 1 }}>\r\n            Ad Segments\r\n          </Typography>\r\n          <Badge \r\n            badgeContent={adSegments.length} \r\n            color=\"error\"\r\n            sx={{ '& .MuiBadge-badge': { fontSize: '0.7rem' } }}\r\n          />\r\n        </Box>\r\n        \r\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n          <Tooltip title={expanded ? \"Collapse\" : \"Expand\"}>\r\n            <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mr: 1 }}>\r\n              {formatTime(totalAdTime)} total\r\n            </Typography>\r\n          </Tooltip>\r\n          {expanded ? \r\n            <KeyboardArrowUpIcon fontSize=\"small\" color=\"action\" /> : \r\n            <KeyboardArrowDownIcon fontSize=\"small\" color=\"action\" />\r\n          }\r\n        </Box>\r\n      </Box>\r\n      \r\n      {expanded && <Divider />}\r\n      \r\n      <Collapse in={expanded} timeout=\"auto\">\r\n        <Box sx={{ p: 2, pt: 1 }}>\r\n          {adSegments.map((segment, index) => (\r\n            <Box key={index} sx={{ \r\n              mb: index !== adSegments.length - 1 ? 2 : 0,\r\n              pt: 1 \r\n            }}>\r\n              <Typography variant=\"body2\" gutterBottom>\r\n                {segment.text}\r\n              </Typography>\r\n              \r\n              <Box sx={{ display: 'flex', gap: 1, alignItems: 'center' }}>\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  onClick={() => onTimestampClick(segment.start)}\r\n                  startIcon={<SkipNextIcon />}\r\n                >\r\n                  Skip to {formatTime(segment.start)}\r\n                </Button>\r\n                \r\n                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                  Duration: {formatTime(segment.end - segment.start)}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          ))}\r\n        </Box>\r\n      </Collapse>\r\n    </Paper>\r\n  );\r\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,GAAG,KAAM,mBAAmB,CACnC,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,qBAAqB,KAAM,uCAAuC,CACzE,MAAO,CAAAC,mBAAmB,KAAM,qCAAqC,CACrE,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,OAASC,UAAU,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAejD,MAAO,MAAM,CAAAC,QAAiC,CAAGC,IAAA,EAK3C,IAL4C,CAChDC,UAAU,CACVC,gBAAgB,CAChBC,UAAU,CACVC,cACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAACK,aAAa,CAAEC,gBAAgB,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAExD;AACA,KAAM,CAAAyB,QAAQ,CAAGJ,UAAU,GAAKK,SAAS,CAAGL,UAAU,CAAGE,aAAa,CAEtE,KAAM,CAAAI,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIL,cAAc,CAAE,CAClB;AACAA,cAAc,CAAC,CAAC,CAClB,CAAC,IAAM,CACL;AACAE,gBAAgB,CAAC,CAACD,aAAa,CAAC,CAClC,CACF,CAAC,CAED;AACA,KAAM,CAAAK,WAAW,CAAGT,UAAU,CAACU,MAAM,CAAC,CAACC,KAAK,CAAEC,OAAO,GAAK,CACxD,MAAO,CAAAD,KAAK,EAAIC,OAAO,CAACC,GAAG,CAAGD,OAAO,CAACE,KAAK,CAAC,CAC9C,CAAC,CAAE,CAAC,CAAC,CAEL,mBACEjB,KAAA,CAACf,KAAK,EACJiC,SAAS,CAAE,CAAE,CACbC,EAAE,CAAE,CACFC,CAAC,CAAE,CAAC,CACJC,MAAM,CAAE,WAAW,CACnBC,WAAW,CAAE,SAAS,CACtBC,YAAY,CAAE,CAAC,CACfC,OAAO,CAAE,kBAAkB,CAC3BC,QAAQ,CAAE,QACZ,CAAE,CAAAC,QAAA,eAEF1B,KAAA,CAACZ,GAAG,EACF+B,EAAE,CAAE,CACFQ,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,QAAQ,CACpBC,MAAM,CAAE,SAAS,CACjBV,CAAC,CAAE,CAAC,CACJW,UAAU,CAAE,uBAAuB,CACnC,SAAS,CAAE,CACTP,OAAO,CAAE,cACX,CACF,CAAE,CACFQ,OAAO,CAAErB,cAAe,CAAAe,QAAA,eAExB1B,KAAA,CAACZ,GAAG,EAAC+B,EAAE,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAQ,CAAEI,GAAG,CAAE,QAAS,CAAE,CAAAP,QAAA,eAChE5B,IAAA,CAACZ,UAAU,EAACgD,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,OAAO,CAAChB,EAAE,CAAE,CAAEiB,EAAE,CAAE,CAAE,CAAE,CAAAV,QAAA,CAAC,aAE7D,CAAY,CAAC,cACb5B,IAAA,CAACH,KAAK,EACJ0C,YAAY,CAAElC,UAAU,CAACmC,MAAO,CAChCH,KAAK,CAAC,OAAO,CACbhB,EAAE,CAAE,CAAE,mBAAmB,CAAE,CAAEoB,QAAQ,CAAE,QAAS,CAAE,CAAE,CACrD,CAAC,EACC,CAAC,cAENvC,KAAA,CAACZ,GAAG,EAAC+B,EAAE,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAS,CAAE,CAAAH,QAAA,eACjD5B,IAAA,CAACJ,OAAO,EAAC8C,KAAK,CAAE/B,QAAQ,CAAG,UAAU,CAAG,QAAS,CAAAiB,QAAA,cAC/C1B,KAAA,CAACd,UAAU,EAACgD,OAAO,CAAC,SAAS,CAACC,KAAK,CAAC,gBAAgB,CAAChB,EAAE,CAAE,CAAEiB,EAAE,CAAE,CAAE,CAAE,CAAAV,QAAA,EAChE9B,UAAU,CAACgB,WAAW,CAAC,CAAC,QAC3B,EAAY,CAAC,CACN,CAAC,CACTH,QAAQ,cACPX,IAAA,CAACP,mBAAmB,EAACgD,QAAQ,CAAC,OAAO,CAACJ,KAAK,CAAC,QAAQ,CAAE,CAAC,cACvDrC,IAAA,CAACR,qBAAqB,EAACiD,QAAQ,CAAC,OAAO,CAACJ,KAAK,CAAC,QAAQ,CAAE,CAAC,EAExD,CAAC,EACH,CAAC,CAEL1B,QAAQ,eAAIX,IAAA,CAACL,OAAO,GAAE,CAAC,cAExBK,IAAA,CAACN,QAAQ,EAACiD,EAAE,CAAEhC,QAAS,CAACiC,OAAO,CAAC,MAAM,CAAAhB,QAAA,cACpC5B,IAAA,CAACV,GAAG,EAAC+B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEuB,EAAE,CAAE,CAAE,CAAE,CAAAjB,QAAA,CACtBvB,UAAU,CAACyC,GAAG,CAAC,CAAC7B,OAAO,CAAE8B,KAAK,gBAC7B7C,KAAA,CAACZ,GAAG,EAAa+B,EAAE,CAAE,CACnB2B,EAAE,CAAED,KAAK,GAAK1C,UAAU,CAACmC,MAAM,CAAG,CAAC,CAAG,CAAC,CAAG,CAAC,CAC3CK,EAAE,CAAE,CACN,CAAE,CAAAjB,QAAA,eACA5B,IAAA,CAACZ,UAAU,EAACgD,OAAO,CAAC,OAAO,CAACa,YAAY,MAAArB,QAAA,CACrCX,OAAO,CAACiC,IAAI,CACH,CAAC,cAEbhD,KAAA,CAACZ,GAAG,EAAC+B,EAAE,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEM,GAAG,CAAE,CAAC,CAAEJ,UAAU,CAAE,QAAS,CAAE,CAAAH,QAAA,eACzD1B,KAAA,CAACb,MAAM,EACL8D,IAAI,CAAC,OAAO,CACZf,OAAO,CAAC,UAAU,CAClBF,OAAO,CAAEA,CAAA,GAAM5B,gBAAgB,CAACW,OAAO,CAACE,KAAK,CAAE,CAC/CiC,SAAS,cAAEpD,IAAA,CAACT,YAAY,GAAE,CAAE,CAAAqC,QAAA,EAC7B,UACS,CAAC9B,UAAU,CAACmB,OAAO,CAACE,KAAK,CAAC,EAC5B,CAAC,cAETjB,KAAA,CAACd,UAAU,EAACgD,OAAO,CAAC,SAAS,CAACC,KAAK,CAAC,gBAAgB,CAAAT,QAAA,EAAC,YACzC,CAAC9B,UAAU,CAACmB,OAAO,CAACC,GAAG,CAAGD,OAAO,CAACE,KAAK,CAAC,EACxC,CAAC,EACV,CAAC,GArBE4B,KAsBL,CACN,CAAC,CACC,CAAC,CACE,CAAC,EACN,CAAC,CAEZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}